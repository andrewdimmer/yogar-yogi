(this["webpackJsonpyogar-yogi"]=this["webpackJsonpyogar-yogi"]||[]).push([[0],{103:function(e,t){},104:function(e,t){},105:function(e,t){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),i=a.n(r);a(92),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(151),s=a(152),l=a(8),u=a(139),m=a(140),p=a(40),d=a(109),g=a(108),h=a(78),f=a(129),y=a(53),v=Object(h.a)({palette:{primary:f.a,secondary:void 0,success:void 0,error:void 0,info:void 0,warning:void 0}}),E=Object(h.a)({palette:{type:"dark",primary:y.a,secondary:void 0,success:void 0,error:void 0,info:void 0,warning:void 0}}),b=Object(d.a)((function(e){return Object(g.a)({padded:{padding:e.spacing(2)},margined:{margin:e.spacing(2)},marginedTopBottom:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginedPadded:{margin:e.spacing(2),padding:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},profileAvatarContainer:{width:"100%"},marginsAuto:{margin:"auto"},profileViewEditGrid:{padding:0,marginTop:e.spacing(2),marginBottom:e.spacing(2)},profileEditImageButton:{marginTop:"-60px"},centerText:{textAlign:"center"},pageTitle:{padding:e.spacing(2),textAlign:"center"},playBox:{width:"100vw",height:"100vh",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:1075,backgroundColor:e.palette.background.default},fullSize:{width:"100%",height:"100%"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},themeBackgroundColor:{background:e.palette.background.default}})})),w=a(130),x=a(131),k=a(132),C=a(134),S=a(135),T=a(71),M=a.n(T),O=a(70),N=a.n(O),P=Object(w.a)((function(e){return Object(x.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),j=function(e){var t=e.theme,a=e.toggleTheme,n=(e.setPageKey,e.pageTitle),r=P();return o.a.createElement("div",{className:r.root},o.a.createElement(k.a,{position:"static"},o.a.createElement(C.a,null,o.a.createElement(p.a,{variant:"h6",className:r.title},n?"".concat(n," - "):"","yogAR yogi"),o.a.createElement("div",null,o.a.createElement(S.a,{"aria-label":"Toggle light/dark theme","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:a,color:"inherit"},"dark"===t?o.a.createElement(N.a,null):o.a.createElement(M.a,null))))))},B=a(136),R=a(137),L=Object(w.a)((function(e){return Object(x.a)({loadingContainer:{width:"100vw",height:"100vh",position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:1350,color:e.palette.getContrastText(e.palette.background.default),backgroundColor:e.palette.background.default},loadingCircle:{margin:"40px"}})})),I=function(e){var t=e.loadingMessage,a=L();return t?o.a.createElement(B.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.loadingContainer},o.a.createElement(B.a,{item:!0},o.a.createElement(R.a,{color:"primary",className:a.loadingCircle})),o.a.createElement(B.a,{item:!0},o.a.createElement(p.a,{variant:"h3"},t))):o.a.createElement(n.Fragment,null)},W=a(79),A=a(138),z=a(157),F=a(72),q=a.n(F),D=a(49),H=a.n(D),K=a(74),U=a.n(K),Y=a(75),G=a.n(Y),_=a(73),V=a.n(_),J=a(4),Z={success:q.a,warning:V.a,error:U.a,info:G.a},$=Object(d.a)((function(e){return Object(g.a)({success:{color:e.palette.getContrastText(e.palette.success.main),backgroundColor:e.palette.success.main},error:{color:e.palette.getContrastText(e.palette.error.main),backgroundColor:e.palette.error.main},info:{color:e.palette.getContrastText(e.palette.info.main),backgroundColor:e.palette.info.main},warning:{color:e.palette.getContrastText(e.palette.warning.main),backgroundColor:e.palette.warning.main},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}})})),Q=function(e){var t=$(),a=e.className,n=e.message,r=e.onClose,i=e.variant,c=Object(W.a)(e,["className","message","onClose","variant"]),s=Z[i];return o.a.createElement(A.a,Object.assign({className:Object(J.a)(t[i],a),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(s,{className:Object(J.a)(t.icon,t.iconVariant)}),n),action:[o.a.createElement(S.a,{key:"close","aria-label":"close",color:"inherit",onClick:r},o.a.createElement(H.a,{className:t.icon}))]},c))};function X(e){var t=e.notification,a=e.setNotification,n=function(e,n){if("clickaway"!==n){var o=t.type,r=t.message;a({type:o,message:r,open:!1})}};return o.a.createElement("div",null,o.a.createElement(z.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t.open,autoHideDuration:6e3,onClose:n},o.a.createElement(Q,{onClose:n,variant:t.type,message:t.message})))}var ee=a(77),te=a.n(ee),ae=a(59),ne=a.n(ae),oe=function(e){var t=e.classes;return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:t.pageTitle},o.a.createElement(p.a,{variant:"h3"},"Error!")),o.a.createElement(p.a,{variant:"h4"},"Unable to find the page you are looking for."),o.a.createElement(p.a,{variant:"body1"},"Unless, of course, you are looking for an error page. In which case, great job! You found it!"," "))},re=function(e){var t=e.setPageKey,a=b();return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:a.pageTitle},o.a.createElement(p.a,{variant:"h3"},"yogAR yogi!")),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:a.marginedTopBottom,onClick:function(){t("learn")}},o.a.createElement(p.a,{variant:"h4"},"Learn New Poses!")),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:a.marginedTopBottom,onClick:function(){t("practice")}},o.a.createElement(p.a,{variant:"h4"},"Practice Your Yoga!")))},ie=a(158),ce=a(150),se=a(156),le=[{name:"Chair Pose",difficulty:"beginner",video:"https://www.youtube.com/embed/aP5elwNjfHU"},{name:"Tree Pose",difficulty:"beginner",pose:{keypoints:[{part:"nose",position:{x:688.3834477596702,y:207.168208753559},score:.7880235314369202},{part:"leftEye",position:{x:679.6368694337585,y:200.28380412786782},score:.5736747980117798},{part:"rightEye",position:{x:698.8877200147555,y:203.6276020533602},score:.5442556738853455},{part:"leftEar",position:{x:670.0089201903062,y:217.25923597308952},score:.03547674044966698},{part:"rightEar",position:{x:711.0707439660624,y:207.2351460792649},score:.196321502327919},{part:"leftShoulder",position:{x:697.378977886541,y:273.4869874766175},score:.5603044629096985},{part:"rightShoulder",position:{x:753.7353896451439,y:242.98668407386458},score:.42788994312286377},{part:"leftElbow",position:{x:720.6949143819826,y:279.33716207155044},score:.014575042761862278},{part:"rightElbow",position:{x:704.3446014044056,y:174.3857715029112},score:.25847163796424866},{part:"leftWrist",position:{x:677.1156485494836,y:114.63995533258145},score:.12120731174945831},{part:"rightWrist",position:{x:688.4480033990304,y:62.05825558514664},score:.07293038070201874},{part:"leftHip",position:{x:688.8510466345648,y:443.93476389495424},score:.9059222340583801},{part:"rightHip",position:{x:743.4170809097676,y:425.9386612529486},score:.9487338662147522},{part:"leftKnee",position:{x:593.1720932032568,y:529.8801683237855},score:.8696625828742981},{part:"rightKnee",position:{x:853.7170653061762,y:565.1642312600579},score:.6610965728759766},{part:"leftAnkle",position:{x:628.2955759701399,y:670.1128588528701},score:.7840789556503296},{part:"rightAnkle",position:{x:973.2624561123262,y:648.9634743274098},score:.5148862600326538}],score:.4869124410016572},video:"https://www.youtube.com/embed/wdln9qWYloU"},{name:"Warior I Pose",difficulty:"beginner",pose:{keypoints:[{part:"nose",position:{x:688.0746362181177,y:180.65620218196386},score:.9730435013771057},{part:"leftEye",position:{x:677.8697478887806,y:179.86556445376976},score:.9366183876991272},{part:"rightEye",position:{x:698.4784264910281,y:163.9256348408444},score:.9132776856422424},{part:"leftEar",position:{x:674.5932963019077,y:195.1593911614217},score:.32476046681404114},{part:"rightEar",position:{x:717.1611393997682,y:180.1632571421879},score:.45841190218925476},{part:"leftShoulder",position:{x:684.8376946537733,y:246.68554547806866},score:.861176609992981},{part:"rightShoulder",position:{x:750.6959318061301,y:224.0710293407172},score:.8184776902198792},{part:"leftElbow",position:{x:659.3175610804437,y:148.9228345844108},score:.452440470457077},{part:"rightElbow",position:{x:728.5711680214482,y:152.190300417618},score:.19869288802146912},{part:"leftWrist",position:{x:659.8384834791316,y:36.66208530479753},score:.4454987049102783},{part:"rightWrist",position:{x:661.4851231695629,y:33.31357918322925},score:.2888561487197876},{part:"leftHip",position:{x:708.9971449338968,y:424.31181917056233},score:.9808230996131897},{part:"rightHip",position:{x:754.5221336326149,y:426.7866360973304},score:.9679903388023376},{part:"leftKnee",position:{x:718.5363683073356,y:541.608153450657},score:.05268760025501251},{part:"rightKnee",position:{x:625.1708817634776,y:536.1894266370317},score:.9546836018562317},{part:"leftAnkle",position:{x:843.6856423903879,y:627.0375701743113},score:.3506052792072296},{part:"rightAnkle",position:{x:668.8096000581327,y:697.5649528503418},score:.504153847694397}],score:.6165998954983318},video:"https://www.youtube.com/embed/5rT--p_cLOc"},{name:"Triangle Pose",difficulty:"intermediate",video:"https://www.youtube.com/embed/upFYlxZHif0"},{name:"Full Lotus Pose",difficulty:"advanced",video:"https://www.youtube.com/embed/odKi0b2K4LY",ar:{echoarId:"eabfa791-ab02-4c79-be35-447596ff6f6f",preview:window.location.href+"/assets/images/LotusPose.jpg",usdz:window.location.href+"/assets/models/Anna_Full_Lotus.usdz"}},{name:"Reverse Wheel Pose",difficulty:"advanced",ar:{echoarId:"938011b5-8ecf-4b69-aecf-62747172e874",preview:window.location.href+"/assets/images/WheelPose.jpg",usdz:window.location.href+"/assets/models/Anna_Reverse_Wheel.usdz"}}],ue=0,me=function(){return ue},pe=function(e){ue=e},de=function(e){for(var t=!0,a=e.keypoints,n=5;n<17;n++)a[n].score<.1&&(t=!1);return t?{upperArmLength:Math.max(Math.sqrt(Math.pow(a[5].position.x-a[7].position.x,2)+Math.pow(a[5].position.y-a[7].position.y,2)),Math.sqrt(Math.pow(a[6].position.x-a[8].position.x,2)+Math.pow(a[6].position.y-a[8].position.y,2))),foreArmLength:Math.max(Math.sqrt(Math.pow(a[7].position.x-a[9].position.x,2)+Math.pow(a[7].position.y-a[9].position.y,2)),Math.sqrt(Math.pow(a[8].position.x-a[10].position.x,2)+Math.pow(a[8].position.y-a[10].position.y,2))),upperLegLength:Math.max(Math.sqrt(Math.pow(a[11].position.x-a[13].position.x,2)+Math.pow(a[11].position.y-a[13].position.y,2)),Math.sqrt(Math.pow(a[12].position.x-a[14].position.x,2)+Math.pow(a[12].position.y-a[14].position.y,2))),lowerLegLength:Math.max(Math.sqrt(Math.pow(a[13].position.x-a[15].position.x,2)+Math.pow(a[13].position.y-a[15].position.y,2)),Math.sqrt(Math.pow(a[14].position.x-a[16].position.x,2)+Math.pow(a[14].position.y-a[16].position.y,2))),wasitLength:Math.sqrt(Math.pow(a[11].position.x-a[12].position.x,2)+Math.pow(a[11].position.y-a[12].position.y,2)),shoulderLength:Math.sqrt(Math.pow(a[5].position.x-a[6].position.x,2)+Math.pow(a[5].position.y-a[6].position.y,2)),torsoLength:Math.max(Math.sqrt(Math.pow(a[5].position.x-a[11].position.x,2)+Math.pow(a[5].position.y-a[11].position.y,2)),Math.sqrt(Math.pow(a[6].position.x-a[12].position.x,2)+Math.pow(a[6].position.y-a[12].position.y,2)))}:null},ge=a(153),he=a(141),fe=a(24),ye=a.n(fe),ve=a(39),Ee=a(50),be=[],we=function(){xe=0,be=[];var e=document.getElementById("video").srcObject;null===e||void 0===e||e.getTracks().forEach((function(e){return e.stop()}))},xe=0,ke=function(){return xe},Ce=function(e,t,a,n){xe=a;try{(function(e,t){return Oe.apply(this,arguments)})(e,t).then((function(e){(function(){return Pe.apply(this,arguments)})().then((function(t){!function(e,t,a,n){function o(){return r.apply(this,arguments)}function r(){return(r=Object(ve.a)(ye.a.mark((function r(){var i;return ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a!==ke()){r.next=6;break}return r.next=3,t.estimatePoses(e,{flipHorizontal:!0,decodingMethod:"multi-person",maxDetections:Ne.multiPoseDetection.maxPoseDetections,scoreThreshold:Ne.multiPoseDetection.minPartConfidence,nmsRadius:Ne.multiPoseDetection.nmsRadius});case 3:i=r.sent,be=i,n(i);case 6:requestAnimationFrame(o);case 7:case"end":return r.stop()}}),r)})))).apply(this,arguments)}o()}(e,t,a,n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}catch(o){console.log(o)}};function Se(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)}function Te(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(ve.a)(ye.a.mark((function e(t,a){var n,o,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return(n=document.getElementById("video")).width=t,n.height=a,o=Se(),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:o?void 0:t,height:o?void 0:a}});case 8:return r=e.sent,n.srcObject=r,e.abrupt("return",new Promise((function(e){n.onloadedmetadata=function(){e(n)}})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(ve.a)(ye.a.mark((function e(t,a){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t,a);case 2:return(n=e.sent).play(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne={input:{architecture:"MobileNetV1",outputStride:16,inputResolution:{width:600,height:500},multiplier:Se()?.5:.75,quantBytes:2},multiPoseDetection:{maxPoseDetections:5,minPoseConfidence:.15,minPartConfidence:.1,nmsRadius:30},output:{showVideo:!0,showSkeleton:!0,showPoints:!0,showBoundingBox:!1},net:null};function Pe(){return(Pe=Object(ve.a)(ye.a.mark((function e(){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ee.b)({architecture:Ne.input.architecture,outputStride:Ne.input.outputStride,inputResolution:Ne.input.inputResolution,multiplier:Ne.input.multiplier,quantBytes:Ne.input.quantBytes}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return[e.y,e.x]}function Be(e,t,a,n,o){e.beginPath(),e.arc(a,t,n,0,2*Math.PI),e.fillStyle=o,e.fill()}function Re(e,t,a,n,o){var r=Object(l.a)(e,2),i=r[0],c=r[1],s=Object(l.a)(t,2),u=s[0],m=s[1];o.beginPath(),o.moveTo(c*n,i*n),o.lineTo(m*n,u*n),o.lineWidth=2,o.strokeStyle=a,o.stroke()}function Le(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aqua",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=Object(Ee.a)(e,t);r.forEach((function(e){Re(je(e[0].position),je(e[1].position),n,o,a)}))}function Ie(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aqua",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0;r<e.length;r++){var i=e[r];if(!(i.score<t)){var c=i.position,s=c.y,l=c.x;Be(a,s*o,l*o,3,n)}}}var We=0,Ae=function e(t,a,n,o){o(n[We]),We=(We+1)%n.length,setTimeout((function(){return e(t,a,n,o)}),1e4)},ze=function(e){var t=e.onClose,a=e.classes,r=e.setCalibration,i=e.calibration,c=e.possiblePoses,s=o.a.useState(0),u=Object(l.a)(s,2),m=u[0],p=u[1],d=o.a.useState(0),g=Object(l.a)(d,2),h=g[0],f=g[1],y=o.a.useState([]),v=Object(l.a)(y,2),E=v[0],b=v[1],w=o.a.useState(void 0),x=Object(l.a)(w,2),k=x[0],C=x[1],S=o.a.useRef(null),T=o.a.useRef(null),M=o.a.useRef(null),O=function(){if(S.current&&T.current&&(S.current.clientWidth!==m||T.current.clientHeight!==h)){if(f(T.current.clientHeight),p(S.current.clientWidth),Ce(S.current.clientWidth,T.current.clientHeight,Math.floor(1e9*Math.random())+1,N),r&&0===me()){var e=Math.floor(1e9*Math.random())+1;pe(e),function(e){setTimeout((function(){var t=be;me()===e&&t.length>0&&(r(t),pe(0),we())}),1e4)}(e)}void 0!==c&&i&&function(e,t,a,n){t,We=0,Ae(e,t,a,n)}(i,Math.floor(1e9*Math.random())+1,c,P)}},N=function(e){b(e)},P=function(e){C(e)};return o.a.createElement(ge.a,{className:a.playBox},o.a.createElement("div",{ref:S,style:{width:"100%",height:0,position:"absolute",top:0,left:0}}),o.a.createElement("div",{ref:T,style:{width:0,height:"100%",position:"absolute",top:0,left:0}}),setTimeout((function(){O(),window.addEventListener("resize",(function(){setTimeout(O,1)}))}),1)&&o.a.createElement(n.Fragment,null),o.a.createElement("canvas",{ref:M}),void(M.current&&function(e,t,a){var n=e.getContext("2d"),o=document.getElementById("video");console.log(t),n&&(e.width=o.width,e.height=o.height,n.clearRect(0,0,e.width,e.height),n.save(),n.scale(-1,1),n.translate(-e.width,0),n.drawImage(o,0,0,e.width,e.height),n.restore(),t.forEach((function(e){var t=e.score,o=e.keypoints;if(t>=.15&&(Ie(o,.1,n),Le(o,.1,n),a)){var r=a.keypoints.map((function(e){return{part:e.part,position:{x:e.position.x,y:e.position.y},score:e.score}}));Ie(r,.1,n,"white"),Le(r,.1,n,"white")}})))}(M.current,E,k)),o.a.createElement(he.a,{color:"primary","aria-label":"add",className:a.fab,onClick:function(){we(),t()}},o.a.createElement(H.a,null)))},Fe=function(e){e.nextStep;var t=e.previousStep,a=e.classes,r=e.setCalibration,i=o.a.useState(!1),c=Object(l.a)(i,2),s=c[0],d=c[1];return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:a.pageTitle},o.a.createElement(p.a,{variant:"h4"},"Calibrate Camera")),o.a.createElement(p.a,{variant:"body1",className:a.marginedTopBottom},"yogAR yogi uses your image to see when you've done each pose. To do that, we first need to know where you are in the picture."),o.a.createElement(p.a,{variant:"body1",className:a.marginedTopBottom},'When you\'re ready, press the "Calibrate Camera" button below, then stand back like you are doing a jumping jack.'),o.a.createElement(p.a,{variant:"body1",className:a.marginedTopBottom},"After 10 seconds, it will use your current pose to identify where you'll be practicing."),o.a.createElement(p.a,{variant:"body1",className:a.marginedTopBottom},"Ready? Press the button below to calibrate the camera!"),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:a.marginedTopBottom,disabled:s,onClick:function(){d(!0)}},o.a.createElement(p.a,{variant:"h5"},"Calibrate Camera")),o.a.createElement(m.a,{color:"primary",variant:"outlined",className:a.marginedTopBottom,disabled:s,onClick:t},o.a.createElement(p.a,{variant:"body1"},"Choose another camera")),s&&o.a.createElement(ze,{onClose:function(){d(!1)},classes:a,setCalibration:function(e){d(!1),setTimeout((function(){return r(e)}),250)}}))},qe=function(e){var t=e.nextStep,a=e.previousStep,r=e.classes,i=e.calibration,c=e.poses,s=o.a.useState(!1),d=Object(l.a)(s,2),g=d[0],h=d[1];return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:r.pageTitle},o.a.createElement(p.a,{variant:"h4"},"Practice!")),o.a.createElement(p.a,{variant:"body1",className:r.marginedTopBottom},"Ready? Press the button below to start!"),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:r.marginedTopBottom,disabled:g,onClick:function(){h(!0)}},o.a.createElement(p.a,{variant:"h5"},"Start Practicing!")),o.a.createElement(m.a,{color:"primary",variant:"outlined",className:r.marginedTopBottom,disabled:g,onClick:a},o.a.createElement(p.a,{variant:"body1"},"Reselect Poses")),g&&o.a.createElement(ze,{onClose:function(){h(!1),t()},classes:r,calibration:i,possiblePoses:c}))},De=a(76),He=a.n(De),Ke=function(e){var t=e.setNotification,a=e.nextStep,r=e.classes,i=o.a.useState(!1),c=Object(l.a)(i,2),s=c[0],d=c[1];return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:r.pageTitle},o.a.createElement(p.a,{variant:"h4"},"Grant Camera Access")),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:r.marginedTopBottom,disabled:s,onClick:function(){d(!0)}},o.a.createElement(p.a,{variant:"h5"},"Grant Computer Camera Access")),s&&o.a.createElement(He.a,{audio:!1,mirrored:!0,onUserMedia:function(){d(!1),a(),console.log("Loaded Camera!")},onUserMediaError:function(){d(!1),t({type:"warning",message:"yogAR yogi does not have access to a camera.",open:!0})},videoConstraints:{width:0,height:0},className:r.fullSize}))},Ue=function(e){var t=e.setPageKey,a=e.previousStep,r=e.classes;return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:r.pageTitle},o.a.createElement(p.a,{variant:"h4"},"Great Job!")),o.a.createElement(p.a,{variant:"body1",className:r.marginedTopBottom},"You earned an 83%!"),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:r.marginedTopBottom,onClick:a},o.a.createElement(p.a,{variant:"h5"},"Replay the same set of poses")),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:r.marginedTopBottom,onClick:function(){a(),a()}},o.a.createElement(p.a,{variant:"h5"},"Reselect Poses")),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"outlined",size:"large",className:r.marginedTopBottom,onClick:function(){t("home")}}))},Ye=a(145),Ge=a(159),_e=a(146),Ve=a(155),Je=a(147),Ze=a(148),$e=a(149),Qe=a(52),Xe=a.n(Qe),et=a(51),tt=a.n(et),at=a(160),nt=a(154),ot=a(142),rt=a(143),it=a(144),ct=o.a.forwardRef((function(e,t){return o.a.createElement(at.a,Object.assign({direction:"up",ref:t},e))})),st=function(e){var t,a,n=e.open,r=e.setOpen,i=e.classes,c=function(){r(null)};return o.a.createElement(nt.a,{open:null!==n,TransitionComponent:ct,keepMounted:!0,onClose:c},o.a.createElement(ot.a,null,"Learn How To Do The "+(null!==n?le[n].name:"")),o.a.createElement(rt.a,{className:i.centerText},o.a.createElement("a",{rel:"ar",href:null!==n?null===(t=le[n].ar)||void 0===t?void 0:t.usdz:""},o.a.createElement("img",{width:"200",height:"200",alt:null!==n?le[n].name:"",src:null!==n?null===(a=le[n].ar)||void 0===a?void 0:a.preview:""})," ")),o.a.createElement(it.a,null,o.a.createElement(m.a,{onClick:c},"Close")))},lt=o.a.forwardRef((function(e,t){return o.a.createElement(at.a,Object.assign({direction:"up",ref:t},e))})),ut=function(e){var t=e.open,a=e.setOpen,n=(e.classes,function(){a(null)});return o.a.createElement(nt.a,{open:null!==t,TransitionComponent:lt,keepMounted:!0,onClose:n},o.a.createElement(ot.a,null,"Learn How To Do The "+(null!==t?le[t].name:"")),o.a.createElement(rt.a,null,o.a.createElement("iframe",{width:"552",height:"311",frameBorder:0,title:"Video",src:null!==t?le[t].video:"",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})),o.a.createElement(it.a,null,o.a.createElement(m.a,{onClick:n},"Close")))},mt=function(e){var t=e.nextStep,a=e.previousStep,r=(e.skipStep,e.classes),i=e.poses,c=e.setPoses,s=o.a.useState(null),d=Object(l.a)(s,2),g=d[0],h=d[1],f=o.a.useState(null),y=Object(l.a)(f,2),v=y[0],E=y[1];return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:r.pageTitle},o.a.createElement(p.a,{variant:"h4"},"Select Poses")),o.a.createElement(u.a,{className:r.pageTitle},o.a.createElement(Ye.a,null,le.map((function(e,t){return o.a.createElement(n.Fragment,null,o.a.createElement(Ge.a,{key:t},o.a.createElement(_e.a,null,o.a.createElement(Ve.a,{edge:"start",checked:i[t],color:"primary",onChange:function(){return function(e){var t=i.concat([]);t[e]=!t[e],c(t)}(t)}})),o.a.createElement(Je.a,{primary:e.name,secondary:"Difficulty: ".concat(e.difficulty)}),o.a.createElement(Ze.a,{className:r.marginRight},o.a.createElement(he.a,{disabled:!e.video,onClick:function(){return E(t)}},o.a.createElement(tt.a,null))),o.a.createElement(Ze.a,null,o.a.createElement(he.a,{disabled:!e.ar,onClick:function(){return h(t)}},o.a.createElement(Xe.a,null)))),o.a.createElement($e.a,{className:r.margined,key:"divider_"+t}))})))),o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"contained",size:"large",className:r.marginedTopBottom,onClick:t},o.a.createElement(p.a,{variant:"h5"},"Ready!")),o.a.createElement(m.a,{color:"primary",variant:"outlined",className:r.marginedTopBottom,onClick:a},o.a.createElement(p.a,{variant:"body1"},"Recalibrate camera")),o.a.createElement(ut,{open:v,setOpen:E,classes:r}),o.a.createElement(st,{open:g,setOpen:h,classes:r}))},pt=function(e){var t=e.setPageKey,a=e.setNotification,r=e.setLoadingMessage,i=e.classes,c=o.a.useState(0),s=Object(l.a)(c,2),m=s[0],d=s[1],g=o.a.useState(new Set),h=Object(l.a)(g,2),f=h[0],y=h[1],v=o.a.useState(null),E=Object(l.a)(v,2),b=E[0],w=E[1],x=o.a.useState(le.map((function(){return!0}))),k=Object(l.a)(x,2),C=k[0],S=k[1];var T=function(e){return 2===e},M=function(e){return f.has(e)},O=function(){var e=f;M(m)&&(e=new Set(e.values())).delete(m),d((function(e){return e+1})),y(e)},N=function(){d((function(e){return e-1}))},P=function(){T(m)||a({type:"warning",message:"You can't skip a step that is not optional!",open:!0}),d((function(e){return e+1})),y((function(e){var t=new Set(e.values());return t.add(m),t}))},j=function(e){console.log("Starting get calibration");var t=function(e){for(var t=0;t<e.length;t++){var a=de(e[t]);if(.15<e[t].score&&a)return a}return null}(e);t?(console.log("Calinration complete."),w(t),O()):(console.log("Calibration failed."),a({type:"error",message:"Calibration Failed. Please try again.",open:!0}))};return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:i.pageTitle},o.a.createElement(p.a,{variant:"h3"},"Let's get ready to play yogAR yogi!")),o.a.createElement(ie.a,{activeStep:m,className:i.themeBackgroundColor},["Grant Camera Permission","Calibrate Camera","Select Poses","Practice!"].map((function(e,t){var a={},n={};return T(t)&&(n.optional=o.a.createElement(p.a,{variant:"caption"},"Optional")),M(t)&&(a.completed=!1),o.a.createElement(ce.a,Object.assign({key:e},a),o.a.createElement(se.a,n,e))}))),function(e){switch(e){case 0:return o.a.createElement(Ke,{setNotification:a,nextStep:O,classes:i});case 1:return o.a.createElement(Fe,{nextStep:O,previousStep:N,classes:i,setCalibration:j});case 2:return o.a.createElement(mt,{nextStep:O,previousStep:N,skipStep:P,classes:i,poses:C,setPoses:S});case 3:return null!==b?o.a.createElement(qe,{nextStep:O,previousStep:N,classes:i,calibration:b,poses:le.reduce((function(e,t,a){return C[a]&&t.pose&&e.push(t.pose),e}),[])}):o.a.createElement(p.a,{variant:"body1"},"Error! Calibration is not set. Please refresh the page and try again.");case 4:return o.a.createElement(Ue,{previousStep:N,setPageKey:t,classes:i});default:return o.a.createElement(oe,{setPageKey:t,setLoadingMessage:r,setNotification:a,classes:i})}}(m))},dt=function(e){var t=e.classes,a=o.a.useState(null),r=Object(l.a)(a,2),i=r[0],c=r[1],s=o.a.useState(null),m=Object(l.a)(s,2),d=m[0],g=m[1];return o.a.createElement(n.Fragment,null,o.a.createElement(u.a,{className:t.pageTitle},o.a.createElement(p.a,{variant:"h3"},"Learn New Yoga Poses")),o.a.createElement(Ye.a,null,le.map((function(e,a){return o.a.createElement(n.Fragment,null,o.a.createElement(Ge.a,{key:a},o.a.createElement(Je.a,{primary:e.name,secondary:"Difficulty: ".concat(e.difficulty)}),o.a.createElement(Ze.a,{className:t.marginRight},o.a.createElement(he.a,{disabled:!e.video,onClick:function(){return g(a)}},o.a.createElement(tt.a,null))),o.a.createElement(Ze.a,null,o.a.createElement(he.a,{disabled:!e.ar,onClick:function(){return c(a)}},o.a.createElement(Xe.a,null)))),o.a.createElement($e.a,{className:t.margined,key:"divider_"+a}))}))),o.a.createElement(ut,{open:d,setOpen:g,classes:t}),o.a.createElement(st,{open:i,setOpen:c,classes:t}))},gt=[{key:"home",title:"",menuLabel:"Home",menuIcon:te.a,displaySignedIn:!0,displaySignedOut:!0,component:re},{key:"learn",title:"Learn",menuLabel:"Learn",menuIcon:ne.a,displaySignedIn:!0,displaySignedOut:!0,component:dt},{key:"practice",title:"Practice",menuLabel:"Practice",menuIcon:ne.a,displaySignedIn:!0,displaySignedOut:!0,component:pt}],ht=gt.reduce((function(e,t){return e[t.key]=t,e}),{}),ft=function(e){return ht[e]?ht[e].title:""},yt=(gt.map((function(e){return{key:e.key,menuLabel:e.menuLabel,menuIcon:e.menuIcon,displaySignedIn:e.displaySignedIn,displaySignedOut:e.displaySignedOut}})),function(e){var t,a=e.theme,r=e.toggleTheme,i=o.a.useState({type:"info",message:"",open:!1}),c=Object(l.a)(i,2),s=c[0],d=c[1],g=o.a.useState(""),h=Object(l.a)(g,2),f=h[0],y=h[1],v=o.a.useState("home"),E=Object(l.a)(v,2),w=E[0],x=E[1],k=ht[t=w]?ht[t].component:oe,C=b();return o.a.createElement(n.Fragment,null,o.a.createElement(j,{pageTitle:ft(w),setPageKey:x,theme:a,toggleTheme:r}),o.a.createElement(u.a,{className:C.marginedTopBottom},o.a.createElement(k,{setPageKey:x,setLoadingMessage:y,setNotification:d,classes:C}),"home"!==w&&o.a.createElement(m.a,{color:"primary",fullWidth:!0,variant:"outlined",size:"large",className:C.marginedTopBottom,onClick:function(){x("home")}},o.a.createElement(p.a,{variant:"h6"},"Return to Home"))),o.a.createElement(I,{loadingMessage:f}),o.a.createElement(X,{notification:s,setNotification:d}))}),vt=function(){var e=function(){var e=o.a.useState("light"),t=Object(l.a)(e,2),a=t[0],n=t[1],r=o.a.useState(!1),i=Object(l.a)(r,2),c=i[0],s=i[1],u=function(e){console.log(e),window.localStorage.setItem("theme",e),n(e)};return o.a.useEffect((function(){var e=window.localStorage.getItem("theme");window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&!e?u("dark"):e?n(e):u("light"),s(!0)}),[]),{theme:a,toggleTheme:function(){u("light"===a?"dark":"light")},componentMounted:c}}(),t=e.theme,a=e.toggleTheme;return e.componentMounted?o.a.createElement(c.a,{theme:"dark"===t?E:v},o.a.createElement(n.Fragment,null,o.a.createElement(s.a,null),o.a.createElement(yt,{theme:t,toggleTheme:a}))):o.a.createElement(n.Fragment,null)};i.a.render(o.a.createElement(vt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(106)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.4233e80a.chunk.js.map